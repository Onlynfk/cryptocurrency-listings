{% extends "../base.html" %}
{% load static %}

{% block title %}
Welcome to Blog
{% endblock %}
  {% block content %}
  {% include "../nav-main.html" %}
  <div class="container container-lg">
    <h6>Recent  Updates</h6>

    <div style="text-align:center; width: 75%;">
      <canvas id="pie-chart"></canvas>
    </div>
  
   <div class="d-flex">
    <div class="py-3" style="flex:0.8">
      <div class="row">
        <div class="col-6 align-left">
          <form class="form-inline">
          <i id="search-icon" class="fas fa-search" aria-hidden="true"></i>
          <input id="user-input" class="form-control form-control-sm ml-3 w-75" type="text" placeholder="Search" aria-label="Search">
          </form>
        </div>
      
        <div id="replaceable-content">
          {% include 'app/list.html' %}
        </div>
      </div>
      
      
      <div class="d-flex justify-content-center py-2">
        <nav aria-label="Page navigation example">
          {% if coins.has_other_pages %}
          <ul class="pagination">
            {% if coins.has_previous %}
            <li class="page-item"><a class="page-link" href="?page={{ coins.previous_page_number }}">Previous</a>
            </li>
            {% else %}
            <li class="page-item disabled"><a class="page-link" href="#">Previous</a></li>
            {% endif %}
            {% for num in coins.paginator.page_range %}
            {% if coins.number == l %}
            <li class="page-item active"><span class="page-link">{{ num }} <span class="sr-only">(current)</span></span>
            </li>
            {% else %}
            <li><a class="page-link" href="?page={{ num }}">{{ num }}</a></li>
            {% endif %}
            {% endfor %}
            {% if coins.has_next %}
            <li class="page-item"><a class="page-link" href="?page={{ comments.next_page_number }}">Next</a></li>
            {% else %}
            <li class="page-item disabled"><a class="page-link" href="#">Next</a></li>
            {% endif %}
          </ul>
          {% endif %}
        </nav>
      </div>
    </div>
    
   </div>
  </div>
  {% include "../footer.html" %}
  {% endblock %}


{%block scripts%}
<script type="text/javascript" src="{% static "javascript/main.js" %}"></script>

<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
<script>

  var config = {
    type: 'bar',
    data: {
      datasets: [{
        data: {{ data|safe }},
        backgroundColor: [
          '#696969', '#808080', '#A9A9A9', '#C0C0C0', '#D3D3D3'
        ],
        label: 'USD Prices'
      }],
      labels: {{ labels|safe }}
    },
    options: {
      responsive: true
    }
  };

  window.onload = function() {
    var ctx = document.getElementById('pie-chart').getContext('2d');
    window.myPie = new Chart(ctx, config);
  };

</script>

{%endblock scripts%}